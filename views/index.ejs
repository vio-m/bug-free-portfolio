<!-- views/index.ejs -->
<!DOCTYPE html>
<html>
<head>
    <title>Viorel Moldovan</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/parallax.css">
    <link rel="stylesheet" type="text/css" href="slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <!-- animate.css and Fontawesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://kit.fontawesome.com/876d4c73cd.js" crossorigin="anonymous"></script>
    <!--CDN Font-->
    <link href="https://fonts.cdnfonts.com/css/rovas-kiterjesztett" rel="stylesheet">
</head>
<body>
  <header>
        <%- include('navbar', { isAuthenticated: isAuthenticated }) %>
  </header>

  <section id="home">
    <div class="parallax-content" data-speed="0.0">
      <div class="container home">
        <div class="external-circle">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="300px" height="300px" viewBox="0 0 300 300" enable-background="new 0 0 300 300" xml:space="preserve">
                <defs>
                    <path id="circlePath" d="M 150, 150 m -120, 0 a 120,120 0 0,1 240,0 a 120,120 0 0,1 -240,0 "/>
                </defs>
                <g>
                    <use xlink:href="#circlePath" fill="none"/>
                    <text fill="#000">
                        <textPath xlink:href="#circlePath">Welcome to My Digital Playground!</textPath>
                    </text>
                </g>
            </svg>
            <div class="circle">
                <img id="circleImage" src="images/front.webp" alt="Image">
            </div> 
        </div>
        <div>
            <a href="/#projects">
                <div class="arrow bounce"><i class="fa-solid fa-chevron-down"></i></div>
            </a>
        </div>
      </div>  
    </div>
  </section>

  <section id="about">
    <div class="parallax-content" data-speed="0.0">
        <div class="container about">
            <div class="skills">

                <div class="front-skills">
                    <i class="fa-solid fa-code"></i>
                    <h2>
                        Creating Stylish User Interfaces
                    </h2>
                    <h4>
                        Elevating user experiences through well-crafted HTML, CSS, and JavaScript
                    </h4>
                </div>
                <div class="back-skills">
                    <i class="fa-solid fa-terminal"></i>
                    <h2>
                        Powerful Server-Side Solutions
                    </h2>
                    <h4>
                        Building robust back-end systems with expertise in server-side languages and databases.
                    </h4>
                </div>
                <div class="social-skills">
                    <i class="fa-solid fa-people-group"></i>
                    <h2>
                        Collaborative and Communicative
                    </2>
                    <h4>
                        Beyond the code, effective communication is the key.
                    </h4>
                </div>
            </div>
        </div>
    </div>
  </section>

  <section id="projects">
        <div class="parallax-content" data-speed="0.0">
            <div class="container">
                <div class="carousel" id="projects-container">
                    <div></div>
                </div>
            </div>
        </div>
  </section>

  <footer>
    <%- include('footer') %>
  </footer>

  <script>
    // CIRCLE SCROLL
    function handleCircleScroll() {
        const wrapper = document.querySelector('.circle-wrapper');
        const circleElement = document.querySelector('#circleElement');
        const scrollPosition = window.scrollY;
        const totalScrollHeight = document.body.scrollHeight - window.innerHeight;
        let value = (scrollPosition / totalScrollHeight) * 100;
        const dashOffsetValue = 1100 - (value * 11);
        circleElement.style.strokeDashoffset = dashOffsetValue;

        if (scrollPosition === 0) {
            wrapper.classList.add('hide');
        } else {
            wrapper.classList.remove('hide');
        }
    }
    window.addEventListener('scroll', handleCircleScroll);
    window.addEventListener('load', handleCircleScroll);
  </script>
  <script>
    // PARALLAX EFFECT 
    window.addEventListener('scroll', () => {
      const scrollPos = window.scrollY;
      const parallaxElements = document.querySelectorAll('.parallax-content');
  
      parallaxElements.forEach((element) => {
        const speed = parseFloat(element.dataset.speed); // Parse data-speed as a number
        const yPos = -scrollPos * speed;
        element.style.transform = `translateY(${yPos}px)`;
      });
    });
  </script>
  <script>
    //LOADS DEV`s HORRIBLE PICS
    const preloadedImages = {
        left: new Image(),
        right: new Image(),
        front: new Image(),
        down: new Image()
    };

    preloadedImages.left.src = 'images/left.webp';
    preloadedImages.right.src = 'images/right.webp';
    preloadedImages.front.src = 'images/front.webp';
    preloadedImages.down.src = 'images/down.webp';
  </script>
  <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
  <script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
  <script type="text/javascript" src="slick/slick.min.js"></script>
  <script src="/js/smooth-scroll.js"></script>
  <script src="/js/navbar.js"></script>
  <script src="/js/circle.js"></script>
  <script src="/js/animate.js"></script>
  <script src="/js/carousel.js"></script>
</body>
</html>
